\hypertarget{classSbRotate}{}\section{Sb\+Rotate Class Reference}
\label{classSbRotate}\index{Sb\+Rotate@{Sb\+Rotate}}


{\ttfamily \#include $<$sb\+\_\+rotate.\+h$>$}



Inheritance diagram for Sb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=254pt]{classSbRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Sb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSbRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSbRotate_a63344fa43832836838bce4c3cab3b623}{Sb\+Rotate} ()
\item 
\hyperlink{classSbRotate_af1d6ccb865d08de3fc39100eb00bfced}{Sb\+Rotate} (float rotate\+\_\+degree)
\item 
virtual void \hyperlink{classSbRotate_adb33f70659313834da495c294e2eafeb}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classSbRotate_a385971c366b3f6e95a0c71870eeca95c}{listener}
\item 
\hyperlink{classsmacc_1_1SmaccMoveBaseActionClient}{smacc\+::\+Smacc\+Move\+Base\+Action\+Client} $\ast$ \hyperlink{classSbRotate_ab6cc0ea1c2e05c0e1ebd57ed6c7d6725}{move\+Base\+Client\+\_\+}
\item 
\hyperlink{classsmacc__planner__switcher_1_1PlannerSwitcher}{smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher} $\ast$ \hyperlink{classSbRotate_a21a2ad273b990ffcd617b730310f9e98}{planner\+Switcher\+\_\+}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}{rotate\+Degree}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 11 of file sb\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{Sb\+Rotate@{Sb\+Rotate}!Sb\+Rotate@{Sb\+Rotate}}
\index{Sb\+Rotate@{Sb\+Rotate}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{Sb\+Rotate()}{SbRotate()}}]{\setlength{\rightskip}{0pt plus 5cm}Sb\+Rotate\+::\+Sb\+Rotate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classSbRotate_a63344fa43832836838bce4c3cab3b623}{}\label{classSbRotate_a63344fa43832836838bce4c3cab3b623}


Definition at line 22 of file sb\+\_\+rotate.\+h.


\begin{DoxyCode}
23     \{
24     \}
\end{DoxyCode}
\index{Sb\+Rotate@{Sb\+Rotate}!Sb\+Rotate@{Sb\+Rotate}}
\index{Sb\+Rotate@{Sb\+Rotate}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{Sb\+Rotate(float rotate\+\_\+degree)}{SbRotate(float rotate_degree)}}]{\setlength{\rightskip}{0pt plus 5cm}Sb\+Rotate\+::\+Sb\+Rotate (
\begin{DoxyParamCaption}
\item[{float}]{rotate\+\_\+degree}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classSbRotate_af1d6ccb865d08de3fc39100eb00bfced}{}\label{classSbRotate_af1d6ccb865d08de3fc39100eb00bfced}


Definition at line 26 of file sb\+\_\+rotate.\+h.


\begin{DoxyCode}
27     \{
28         \hyperlink{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}{rotateDegree} = rotate\_degree;
29     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Sb\+Rotate@{Sb\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Sb\+Rotate\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classSbRotate_adb33f70659313834da495c294e2eafeb}{}\label{classSbRotate_adb33f70659313834da495c294e2eafeb}


Reimplemented from \hyperlink{classsmacc_1_1SmaccSubStateBehavior_a7c28e1c46238bbb2c2e0450573c6de94}{smacc\+::\+Smacc\+Sub\+State\+Behavior}.



Definition at line 31 of file sb\+\_\+rotate.\+h.



References smacc\+::\+Smacc\+Sub\+State\+Behavior\+::current\+State, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Smacc\+Sub\+State\+Behavior\+::requires\+Component(), rotate\+Degree, smacc\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), and smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher\+::set\+Default\+Planners().


\begin{DoxyCode}
32     \{
33         \textcolor{keywordtype}{double} angle\_increment\_degree;
34 
35         \textcolor{keywordflow}{if} (!\hyperlink{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}{rotateDegree})
36         \{
37             this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a62e2b9da4a446f09396d0b4c01659b88}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"angle\_increment\_degree"}, angle\_increment\_degree, 45
      .0);
38         \}
39         \textcolor{keywordflow}{else}
40         \{
41             angle\_increment\_degree = *\hyperlink{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}{rotateDegree};
42         \}
43         
44         this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a4d25c4ba8ec01c489df172a71bb1c37d}{requiresComponent}(\hyperlink{classSbRotate_ab6cc0ea1c2e05c0e1ebd57ed6c7d6725}{moveBaseClient\_}, ros::NodeHandle(\textcolor{stringliteral}{"move\_base
      "}));
45         this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a4d25c4ba8ec01c489df172a71bb1c37d}{requiresComponent}(\hyperlink{classSbRotate_a21a2ad273b990ffcd617b730310f9e98}{plannerSwitcher\_}, ros::NodeHandle(\textcolor{stringliteral}{"
      move\_base"}));
46 
47         \textcolor{comment}{//this should work better with a coroutine and await}
48         \textcolor{comment}{//this->plannerSwitcher\_->setForwardPlanner();}
49         this->\hyperlink{classSbRotate_a21a2ad273b990ffcd617b730310f9e98}{plannerSwitcher\_}->\hyperlink{classsmacc__planner__switcher_1_1PlannerSwitcher_a9672bbbb245b3a5120b365810c9cc746}{setDefaultPlanners}();
50 
51         ros::Rate rate(10.0);
52         geometry\_msgs::Pose currentPoseMsg;
53         \textcolor{keywordflow}{while} (ros::ok())
54         \{
55             tf::StampedTransform currentPose;
56             \textcolor{keywordflow}{try}
57             \{
58                 \hyperlink{classSbRotate_a385971c366b3f6e95a0c71870eeca95c}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
59                                          ros::Time(0), currentPose);
60 
61                 tf::poseTFToMsg(currentPose, currentPoseMsg);
62                 \textcolor{keywordflow}{break};
63             \}
64             \textcolor{keywordflow}{catch} (tf::TransformException ex)
65             \{
66                 ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
67                 ros::Duration(1.0).sleep();
68             \}
69         \}
70 
71         smacc::SmaccMoveBaseActionClient::Goal goal;
72         goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
73         goal.target\_pose.header.stamp = ros::Time::now();
74 
75         \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
76         \textcolor{keyword}{auto} targetAngle = currentAngle + angle\_increment\_degree * M\_PI / 180.0;
77         goal.target\_pose.pose.position = currentPoseMsg.position;
78         goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
79 
80         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"current pose: "} << currentPoseMsg);
81         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"goal pose: "} << goal.target\_pose.pose);
82         \hyperlink{classSbRotate_ab6cc0ea1c2e05c0e1ebd57ed6c7d6725}{moveBaseClient\_}->\hyperlink{classsmacc_1_1SmaccActionClientBase_a58c67a87c5fb8ea1633573c58fe3eee1}{sendGoal}(goal);
83     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSbRotate_adb33f70659313834da495c294e2eafeb_cgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{Sb\+Rotate@{Sb\+Rotate}!listener@{listener}}
\index{listener@{listener}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener Sb\+Rotate\+::listener}\hypertarget{classSbRotate_a385971c366b3f6e95a0c71870eeca95c}{}\label{classSbRotate_a385971c366b3f6e95a0c71870eeca95c}


Definition at line 14 of file sb\+\_\+rotate.\+h.

\index{Sb\+Rotate@{Sb\+Rotate}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+::\+Smacc\+Move\+Base\+Action\+Client}$\ast$ Sb\+Rotate\+::move\+Base\+Client\+\_\+}\hypertarget{classSbRotate_ab6cc0ea1c2e05c0e1ebd57ed6c7d6725}{}\label{classSbRotate_ab6cc0ea1c2e05c0e1ebd57ed6c7d6725}


Definition at line 16 of file sb\+\_\+rotate.\+h.

\index{Sb\+Rotate@{Sb\+Rotate}!planner\+Switcher\+\_\+@{planner\+Switcher\+\_\+}}
\index{planner\+Switcher\+\_\+@{planner\+Switcher\+\_\+}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{planner\+Switcher\+\_\+}{plannerSwitcher_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher}$\ast$ Sb\+Rotate\+::planner\+Switcher\+\_\+}\hypertarget{classSbRotate_a21a2ad273b990ffcd617b730310f9e98}{}\label{classSbRotate_a21a2ad273b990ffcd617b730310f9e98}


Definition at line 18 of file sb\+\_\+rotate.\+h.

\index{Sb\+Rotate@{Sb\+Rotate}!rotate\+Degree@{rotate\+Degree}}
\index{rotate\+Degree@{rotate\+Degree}!Sb\+Rotate@{Sb\+Rotate}}
\subsubsection[{\texorpdfstring{rotate\+Degree}{rotateDegree}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ Sb\+Rotate\+::rotate\+Degree}\hypertarget{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}{}\label{classSbRotate_aeaec32fdba434d9482548bda764b0fe0}


Definition at line 20 of file sb\+\_\+rotate.\+h.



Referenced by on\+Entry().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+sm\+\_\+examples/sm\+\_\+dance\+\_\+bot/include/sm\+\_\+dance\+\_\+bot/substate\+\_\+behaviors/navigation/\hyperlink{sb__rotate_8h}{sb\+\_\+rotate.\+h}\end{DoxyCompactItemize}
