\hypertarget{classmove__base__z__client_1_1CbNavigateForward}{}\section{move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Navigate\+Forward Class Reference}
\label{classmove__base__z__client_1_1CbNavigateForward}\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}


{\ttfamily \#include $<$cb\+\_\+navigate\+\_\+forward.\+h$>$}



Inheritance diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Navigate\+Forward\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classmove__base__z__client_1_1CbNavigateForward__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Navigate\+Forward\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbNavigateForward__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmove__base__z__client_1_1CbNavigateForward_a14f25162a57acb3d0a0e693ec77b08b7}{Cb\+Navigate\+Forward} (float \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forward\+Distance})
\item 
\hyperlink{classmove__base__z__client_1_1CbNavigateForward_a9acd20b586f4b5892af7e01d8ddf309c}{Cb\+Navigate\+Forward} ()
\item 
virtual void \hyperlink{classmove__base__z__client_1_1CbNavigateForward_a48df166608fd30ad6abfd0fca43caa51}{on\+Entry} () override
\item 
virtual void \hyperlink{classmove__base__z__client_1_1CbNavigateForward_aa0f004dd176ca62dfddb836a52aa4376}{on\+Exit} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forward\+Distance}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classmove__base__z__client_1_1CbNavigateForward_aa0753177c2415f8e0b221be754d63197}{forward\+Speed}
\item 
tf\+::\+Transform\+Listener \hyperlink{classmove__base__z__client_1_1CbNavigateForward_afa40fd805d66eb09e9b4b1bd8356b2a5}{listener}
\item 
\hyperlink{classmove__base__z__client_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ} $\ast$ \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{move\+Base\+Client\+\_\+}
\item 
Odom\+Tracker $\ast$ \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odom\+Tracker\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 14 of file cb\+\_\+navigate\+\_\+forward.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!Cb\+Navigate\+Forward@{Cb\+Navigate\+Forward}}
\index{Cb\+Navigate\+Forward@{Cb\+Navigate\+Forward}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Forward(float forward\+Distance)}{CbNavigateForward(float forwardDistance)}}]{\setlength{\rightskip}{0pt plus 5cm}move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::\+Cb\+Navigate\+Forward (
\begin{DoxyParamCaption}
\item[{float}]{forward\+Distance}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_a14f25162a57acb3d0a0e693ec77b08b7}{}\label{classmove__base__z__client_1_1CbNavigateForward_a14f25162a57acb3d0a0e693ec77b08b7}


Definition at line 28 of file cb\+\_\+navigate\+\_\+forward.\+h.



References forward\+Distance.


\begin{DoxyCode}
29     \{
30         this->\hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forwardDistance} = \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forwardDistance};
31     \}
\end{DoxyCode}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!Cb\+Navigate\+Forward@{Cb\+Navigate\+Forward}}
\index{Cb\+Navigate\+Forward@{Cb\+Navigate\+Forward}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Forward()}{CbNavigateForward()}}]{\setlength{\rightskip}{0pt plus 5cm}move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::\+Cb\+Navigate\+Forward (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_a9acd20b586f4b5892af7e01d8ddf309c}{}\label{classmove__base__z__client_1_1CbNavigateForward_a9acd20b586f4b5892af7e01d8ddf309c}


Definition at line 33 of file cb\+\_\+navigate\+\_\+forward.\+h.


\begin{DoxyCode}
34     \{
35     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_a48df166608fd30ad6abfd0fca43caa51}{}\label{classmove__base__z__client_1_1CbNavigateForward_a48df166608fd30ad6abfd0fca43caa51}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 37 of file cb\+\_\+navigate\+\_\+forward.\+h.



References smacc\+::\+Smacc\+Client\+Behavior\+::current\+State, forward\+Distance, smacc\+::\+I\+Smacc\+Client\+::get\+Component(), smacc\+::\+I\+Smacc\+State\+::param(), move\+\_\+base\+\_\+z\+\_\+client\+::\+Cl\+Move\+Base\+Z\+::planner\+Switcher\+\_\+, smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), and smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal().


\begin{DoxyCode}
38     \{
39         \textcolor{comment}{// straight motion distance}
40         \textcolor{keywordtype}{double} dist;
41 
42         \textcolor{keywordflow}{if} (!\hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forwardDistance})
43         \{
44             this->\hyperlink{classsmacc_1_1SmaccClientBehavior_af76fc9b877542ed5caf033f820c107d0}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"straight\_motion\_distance"}, dist, 3.5);
45         \}
46         \textcolor{keywordflow}{else}
47         \{
48             dist = *\hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{forwardDistance};
49         \}
50 
51         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"Straight motion distance: "} << dist);
52 
53         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{moveBaseClient\_});
54 
55         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odomTracker\_} = \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<OdomTracker>();
56 
57         \textcolor{comment}{//this should work better with a coroutine and await}
58         ros::Rate rate(10.0);
59         tf::StampedTransform currentPose;
60 
61         \textcolor{keywordflow}{while} (ros::ok())
62         \{
63             \textcolor{keywordflow}{try}
64             \{
65                 \hyperlink{classmove__base__z__client_1_1CbNavigateForward_afa40fd805d66eb09e9b4b1bd8356b2a5}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
66                                          ros::Time(0), currentPose);
67 
68                 \textcolor{keywordflow}{break};
69             \}
70             \textcolor{keywordflow}{catch} (tf::TransformException ex)
71             \{
72                 ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
73                 ros::Duration(1.0).sleep();
74             \}
75         \}
76 
77         tf::Transform forwardDeltaTransform;
78         forwardDeltaTransform.setIdentity();
79         forwardDeltaTransform.setOrigin(tf::Vector3(dist, 0, 0));
80 
81         tf::Transform targetPose = currentPose * forwardDeltaTransform;
82 
83         ClMoveBaseZ::Goal goal;
84         goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
85         goal.target\_pose.header.stamp = ros::Time::now();
86         tf::poseTFToMsg(targetPose, goal.target\_pose.pose);
87 
88         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"TARGET POSE FORWARD: "} << goal.target\_pose.pose);
89         ros::Duration(10).sleep();
90         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odomTracker\_}->clearPath();
91 
92         geometry\_msgs::PoseStamped currentPoseMsg;
93         currentPoseMsg.header.frame\_id = \textcolor{stringliteral}{"/odom"};
94         currentPoseMsg.header.stamp = ros::Time::now();
95         tf::poseTFToMsg(currentPose, currentPoseMsg.pose);
96         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odomTracker\_}->setStartPoint(currentPoseMsg);
97         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odomTracker\_}->setWorkingMode(WorkingMode::RECORD\_PATH\_FORWARD);
98 
99         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{moveBaseClient\_}->\hyperlink{classmove__base__z__client_1_1ClMoveBaseZ_ac57d2293bc0a5c4fcef326379822cc5e}{plannerSwitcher\_}->setForwardPlanner();
100 
101         \hyperlink{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(goal);
102     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbNavigateForward_a48df166608fd30ad6abfd0fca43caa51_cgraph}
\end{center}
\end{figure}


\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{on\+Exit() override}{onExit() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::on\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_aa0f004dd176ca62dfddb836a52aa4376}{}\label{classmove__base__z__client_1_1CbNavigateForward_aa0f004dd176ca62dfddb836a52aa4376}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_ac0cd72d42bd00425362a97c9803ecce5}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 104 of file cb\+\_\+navigate\+\_\+forward.\+h.


\begin{DoxyCode}
105     \{
106         this->\hyperlink{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{odomTracker\_}->setWorkingMode(WorkingMode::IDLE);
107     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!forward\+Distance@{forward\+Distance}}
\index{forward\+Distance@{forward\+Distance}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{forward\+Distance}{forwardDistance}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::forward\+Distance}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}{}\label{classmove__base__z__client_1_1CbNavigateForward_ab3097d686b5a82b4f650bc5175d8ab73}


Definition at line 17 of file cb\+\_\+navigate\+\_\+forward.\+h.



Referenced by Cb\+Navigate\+Forward(), and on\+Entry().

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!forward\+Speed@{forward\+Speed}}
\index{forward\+Speed@{forward\+Speed}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{forward\+Speed}{forwardSpeed}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::forward\+Speed}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_aa0753177c2415f8e0b221be754d63197}{}\label{classmove__base__z__client_1_1CbNavigateForward_aa0753177c2415f8e0b221be754d63197}


Definition at line 20 of file cb\+\_\+navigate\+\_\+forward.\+h.

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!listener@{listener}}
\index{listener@{listener}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::listener}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_afa40fd805d66eb09e9b4b1bd8356b2a5}{}\label{classmove__base__z__client_1_1CbNavigateForward_afa40fd805d66eb09e9b4b1bd8356b2a5}


Definition at line 22 of file cb\+\_\+navigate\+\_\+forward.\+h.

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Cl\+Move\+BaseZ}$\ast$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::move\+Base\+Client\+\_\+}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}{}\label{classmove__base__z__client_1_1CbNavigateForward_ab3b4592cd7f30b490a0549f2ee67c389}


Definition at line 24 of file cb\+\_\+navigate\+\_\+forward.\+h.

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}!odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}}
\index{odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward}}
\subsubsection[{\texorpdfstring{odom\+Tracker\+\_\+}{odomTracker_}}]{\setlength{\rightskip}{0pt plus 5cm}Odom\+Tracker$\ast$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Navigate\+Forward\+::odom\+Tracker\+\_\+}\hypertarget{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}{}\label{classmove__base__z__client_1_1CbNavigateForward_ae5573b288a966114a875d5b79a6c7924}


Definition at line 26 of file cb\+\_\+navigate\+\_\+forward.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__navigate__forward_8h}{cb\+\_\+navigate\+\_\+forward.\+h}\end{DoxyCompactItemize}
