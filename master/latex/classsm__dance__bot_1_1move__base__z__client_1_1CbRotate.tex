\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate}{}\section{sm\+\_\+dance\+\_\+bot\+:\+:move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate Class Reference}
\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate}\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}


{\ttfamily \#include $<$cb\+\_\+rotate.\+h$>$}



Inheritance diagram for sm\+\_\+dance\+\_\+bot\+:\+:move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for sm\+\_\+dance\+\_\+bot\+:\+:move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_aa72878751abd7de8f9895b6ecfc3e1f7}{Cb\+Rotate} ()
\item 
\hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab706ef8ad745f3b293f065e3f625f6dd}{Cb\+Rotate} (float rotate\+\_\+degree)
\item 
virtual void \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a61a2c0d99f36e0ce6d5b51ed4f231dca}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a378ab8e6db83063793e07f8ebdae6d2c}{listener}
\item 
Cl\+Move\+BaseZ $\ast$ \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}{move\+Base\+Client\+\_\+}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}{rotate\+Degree}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 14 of file cb\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{Cb\+Rotate()}{CbRotate()}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::\+Cb\+Rotate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_aa72878751abd7de8f9895b6ecfc3e1f7}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_aa72878751abd7de8f9895b6ecfc3e1f7}


Definition at line 23 of file cb\+\_\+rotate.\+h.


\begin{DoxyCode}
24     \{
25     \}
\end{DoxyCode}
\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{Cb\+Rotate(float rotate\+\_\+degree)}{CbRotate(float rotate_degree)}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::\+Cb\+Rotate (
\begin{DoxyParamCaption}
\item[{float}]{rotate\+\_\+degree}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab706ef8ad745f3b293f065e3f625f6dd}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab706ef8ad745f3b293f065e3f625f6dd}


Definition at line 27 of file cb\+\_\+rotate.\+h.


\begin{DoxyCode}
28     \{
29         \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}{rotateDegree} = rotate\_degree;
30     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a61a2c0d99f36e0ce6d5b51ed4f231dca}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a61a2c0d99f36e0ce6d5b51ed4f231dca}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 32 of file cb\+\_\+rotate.\+h.



References smacc\+::\+Smacc\+Client\+Behavior\+::current\+State, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), and rotate\+Degree.


\begin{DoxyCode}
33     \{
34         \textcolor{keywordtype}{double} angle\_increment\_degree;
35 
36         \textcolor{keywordflow}{if} (!\hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}{rotateDegree})
37         \{
38             this->\hyperlink{classsmacc_1_1SmaccClientBehavior_af76fc9b877542ed5caf033f820c107d0}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"angle\_increment\_degree"}, angle\_increment\_degree, 45
      .0);
39         \}
40         \textcolor{keywordflow}{else}
41         \{
42             angle\_increment\_degree = *\hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}{rotateDegree};
43         \}
44 
45         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}{moveBaseClient\_});
46 
47         \textcolor{comment}{//this should work better with a coroutine and await}
48         \textcolor{comment}{//this->plannerSwitcher\_->setForwardPlanner();}
49         \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}{moveBaseClient\_}->plannerSwitcher\_->setDefaultPlanners();
50 
51         ros::Rate rate(10.0);
52         geometry\_msgs::Pose currentPoseMsg;
53         \textcolor{keywordflow}{while} (ros::ok())
54         \{
55             tf::StampedTransform currentPose;
56             \textcolor{keywordflow}{try}
57             \{
58                 \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a378ab8e6db83063793e07f8ebdae6d2c}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
59                                          ros::Time(0), currentPose);
60 
61                 tf::poseTFToMsg(currentPose, currentPoseMsg);
62                 \textcolor{keywordflow}{break};
63             \}
64             \textcolor{keywordflow}{catch} (tf::TransformException ex)
65             \{
66                 ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
67                 ros::Duration(1.0).sleep();
68             \}
69         \}
70 
71         ClMoveBaseZ::Goal goal;
72         goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
73         goal.target\_pose.header.stamp = ros::Time::now();
74 
75         \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
76         \textcolor{keyword}{auto} targetAngle = currentAngle + angle\_increment\_degree * M\_PI / 180.0;
77         goal.target\_pose.pose.position = currentPoseMsg.position;
78         goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
79 
80         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"current pose: "} << currentPoseMsg);
81         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"goal pose: "} << goal.target\_pose.pose);
82         \hyperlink{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}{moveBaseClient\_}->sendGoal(goal);
83     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a61a2c0d99f36e0ce6d5b51ed4f231dca_cgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!listener@{listener}}
\index{listener@{listener}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::listener}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a378ab8e6db83063793e07f8ebdae6d2c}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_a378ab8e6db83063793e07f8ebdae6d2c}


Definition at line 17 of file cb\+\_\+rotate.\+h.

\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}Cl\+Move\+BaseZ$\ast$ sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::move\+Base\+Client\+\_\+}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ad8f923d0b85dabf481ee69b62287c028}


Definition at line 19 of file cb\+\_\+rotate.\+h.

\index{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!rotate\+Degree@{rotate\+Degree}}
\index{rotate\+Degree@{rotate\+Degree}!sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{rotate\+Degree}{rotateDegree}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ sm\+\_\+dance\+\_\+bot\+::move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::rotate\+Degree}\hypertarget{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}{}\label{classsm__dance__bot_1_1move__base__z__client_1_1CbRotate_ab1ecbec2a3e65f6339d176f440e2e2f3}


Definition at line 21 of file cb\+\_\+rotate.\+h.



Referenced by on\+Entry().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+dance\+\_\+bot/include/sm\+\_\+dance\+\_\+bot/clients/move\+\_\+base\+\_\+z\+\_\+client/client\+\_\+behaviors/\hyperlink{smacc__sm__reference__library_2sm__dance__bot_2include_2sm__dance__bot_2clients_2move__base__z__5ee57f5e0712d66d82728a792a27d9fc}{cb\+\_\+rotate.\+h}\end{DoxyCompactItemize}
