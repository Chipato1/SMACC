\hypertarget{classNavigateForward}{}\section{Navigate\+Forward Class Reference}
\label{classNavigateForward}\index{Navigate\+Forward@{Navigate\+Forward}}


{\ttfamily \#include $<$navigate\+\_\+forward.\+h$>$}



Inheritance diagram for Navigate\+Forward\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=254pt]{classNavigateForward__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Navigate\+Forward\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classNavigateForward__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classNavigateForward_a45fc93000c710b0a31b34d2dd2fa3625}{Navigate\+Forward} (float \hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forward\+Distance})
\item 
\hyperlink{classNavigateForward_a49125886df55eb4253f95dc8e3e45ba3}{Navigate\+Forward} ()
\item 
virtual void \hyperlink{classNavigateForward_a2a1ad66b031773aeac11663020afebba}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forward\+Distance}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classNavigateForward_a887de966940cd56b2c159a5b08e9f9e0}{forward\+Speed}
\item 
tf\+::\+Transform\+Listener \hyperlink{classNavigateForward_a40927a8ea2a861c7bb3ece9256600552}{listener}
\item 
\hyperlink{classsmacc_1_1SmaccMoveBaseActionClient}{smacc\+::\+Smacc\+Move\+Base\+Action\+Client} $\ast$ \hyperlink{classNavigateForward_adeec3efc00297e64467a83d5ef82c44c}{move\+Base\+Client\+\_\+}
\item 
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker}{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker} $\ast$ \hyperlink{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{odom\+Tracker\+\_\+}
\item 
\hyperlink{classsmacc__planner__switcher_1_1PlannerSwitcher}{smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher} $\ast$ \hyperlink{classNavigateForward_a61052be8826f5bce96f56bfd0a0a8339}{planner\+Switcher\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 10 of file navigate\+\_\+forward.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{Navigate\+Forward@{Navigate\+Forward}!Navigate\+Forward@{Navigate\+Forward}}
\index{Navigate\+Forward@{Navigate\+Forward}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{Navigate\+Forward(float forward\+Distance)}{NavigateForward(float forwardDistance)}}]{\setlength{\rightskip}{0pt plus 5cm}Navigate\+Forward\+::\+Navigate\+Forward (
\begin{DoxyParamCaption}
\item[{float}]{forward\+Distance}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNavigateForward_a45fc93000c710b0a31b34d2dd2fa3625}{}\label{classNavigateForward_a45fc93000c710b0a31b34d2dd2fa3625}


Definition at line 27 of file navigate\+\_\+forward.\+h.



References forward\+Distance.


\begin{DoxyCode}
28   \{
29     this->\hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forwardDistance} = \hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forwardDistance};
30   \}
\end{DoxyCode}
\index{Navigate\+Forward@{Navigate\+Forward}!Navigate\+Forward@{Navigate\+Forward}}
\index{Navigate\+Forward@{Navigate\+Forward}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{Navigate\+Forward()}{NavigateForward()}}]{\setlength{\rightskip}{0pt plus 5cm}Navigate\+Forward\+::\+Navigate\+Forward (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNavigateForward_a49125886df55eb4253f95dc8e3e45ba3}{}\label{classNavigateForward_a49125886df55eb4253f95dc8e3e45ba3}


Definition at line 32 of file navigate\+\_\+forward.\+h.


\begin{DoxyCode}
33   \{
34 
35   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Navigate\+Forward@{Navigate\+Forward}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Navigate\+Forward\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classNavigateForward_a2a1ad66b031773aeac11663020afebba}{}\label{classNavigateForward_a2a1ad66b031773aeac11663020afebba}


Reimplemented from \hyperlink{classsmacc_1_1SmaccSubStateBehavior_a7c28e1c46238bbb2c2e0450573c6de94}{smacc\+::\+Smacc\+Sub\+State\+Behavior}.



Definition at line 37 of file navigate\+\_\+forward.\+h.



References smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::clear\+Path(), smacc\+::\+Smacc\+Sub\+State\+Behavior\+::current\+State, forward\+Distance, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+\_\+odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+T\+H\+\_\+\+F\+O\+R\+W\+A\+RD, smacc\+::\+Smacc\+Sub\+State\+Behavior\+::requires\+Component(), smacc\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher\+::set\+Forward\+Planner(), smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Start\+Point(), and smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode().


\begin{DoxyCode}
38   \{
39     \textcolor{comment}{// straight motion distance}
40     \textcolor{keywordtype}{double} dist;
41 
42     \textcolor{keywordflow}{if}(!\hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forwardDistance})
43     \{
44       this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a62e2b9da4a446f09396d0b4c01659b88}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"straight\_motion\_distance"}, dist, 3.5);
45     \}
46     \textcolor{keywordflow}{else}
47     \{
48       dist = *\hyperlink{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{forwardDistance};
49     \}
50         
51     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"Straight motion distance: "} << dist);
52 
53     this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a4d25c4ba8ec01c489df172a71bb1c37d}{requiresComponent}(\hyperlink{classNavigateForward_adeec3efc00297e64467a83d5ef82c44c}{moveBaseClient\_} ,ros::NodeHandle(\textcolor{stringliteral}{"move\_base"}));
54     this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a4d25c4ba8ec01c489df172a71bb1c37d}{requiresComponent}(\hyperlink{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{odomTracker\_});
55     this->\hyperlink{classsmacc_1_1SmaccSubStateBehavior_a4d25c4ba8ec01c489df172a71bb1c37d}{requiresComponent}(\hyperlink{classNavigateForward_a61052be8826f5bce96f56bfd0a0a8339}{plannerSwitcher\_} , ros::NodeHandle(\textcolor{stringliteral}{"move\_base"}
      ));   
56 
57     \textcolor{comment}{//this should work better with a coroutine and await}
58     ros::Rate rate(10.0);
59     tf::StampedTransform currentPose;
60 
61     \textcolor{keywordflow}{while} (ros::ok())
62     \{
63         \textcolor{keywordflow}{try}\{
64         \hyperlink{classNavigateForward_a40927a8ea2a861c7bb3ece9256600552}{listener}.lookupTransform( \textcolor{stringliteral}{"/odom"},  \textcolor{stringliteral}{"/base\_link"},
65                                 ros::Time(0), currentPose);
66 
67          \textcolor{keywordflow}{break};
68         \}
69         \textcolor{keywordflow}{catch} (tf::TransformException ex)\{
70         ROS\_ERROR(\textcolor{stringliteral}{"%s"},ex.what());
71         ros::Duration(1.0).sleep();
72         \}
73     \}   
74 
75     tf::Transform forwardDeltaTransform;
76     forwardDeltaTransform.setIdentity();
77     forwardDeltaTransform.setOrigin(tf::Vector3(dist, 0, 0));
78 
79     tf::Transform targetPose =  currentPose * forwardDeltaTransform;
80     
81     smacc::SmaccMoveBaseActionClient::Goal goal;
82     goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
83     goal.target\_pose.header.stamp = ros::Time::now();
84     tf::poseTFToMsg(targetPose, goal.target\_pose.pose);
85     
86     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"TARGET POSE FORWARD: "} << goal.target\_pose.pose);
87     ros::Duration(10).sleep();
88     this->\hyperlink{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{odomTracker\_}->\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae}{clearPath}();
89     
90     geometry\_msgs::PoseStamped currentPoseMsg;
91     currentPoseMsg.header.frame\_id = \textcolor{stringliteral}{"/odom"};
92     currentPoseMsg.header.stamp = ros::Time::now();
93     tf::poseTFToMsg(currentPose, currentPoseMsg.pose);
94     this->\hyperlink{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{odomTracker\_}->\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5ac7c4770b3e29b74571ef65377048ee}{setStartPoint}(currentPoseMsg);
95     this->\hyperlink{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{odomTracker\_}->\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45}{setWorkingMode}(
      \hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33a989d06a586bcf9520889228da7faa643}{smacc\_odom\_tracker::WorkingMode::RECORD\_PATH\_FORWARD});
96 
97     this->\hyperlink{classNavigateForward_a61052be8826f5bce96f56bfd0a0a8339}{plannerSwitcher\_}->\hyperlink{classsmacc__planner__switcher_1_1PlannerSwitcher_a6510ee1f23243ee725c61e590354d3bc}{setForwardPlanner}();
98 
99     \hyperlink{classNavigateForward_adeec3efc00297e64467a83d5ef82c44c}{moveBaseClient\_}->\hyperlink{classsmacc_1_1SmaccActionClientBase_a58c67a87c5fb8ea1633573c58fe3eee1}{sendGoal}(goal);
100   \}    
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classNavigateForward_a2a1ad66b031773aeac11663020afebba_cgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{Navigate\+Forward@{Navigate\+Forward}!forward\+Distance@{forward\+Distance}}
\index{forward\+Distance@{forward\+Distance}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{forward\+Distance}{forwardDistance}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ Navigate\+Forward\+::forward\+Distance}\hypertarget{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}{}\label{classNavigateForward_ad2b2157f0a2c94fd9e1f11ae22d203fc}


Definition at line 14 of file navigate\+\_\+forward.\+h.



Referenced by Navigate\+Forward(), and on\+Entry().

\index{Navigate\+Forward@{Navigate\+Forward}!forward\+Speed@{forward\+Speed}}
\index{forward\+Speed@{forward\+Speed}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{forward\+Speed}{forwardSpeed}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ Navigate\+Forward\+::forward\+Speed}\hypertarget{classNavigateForward_a887de966940cd56b2c159a5b08e9f9e0}{}\label{classNavigateForward_a887de966940cd56b2c159a5b08e9f9e0}


Definition at line 17 of file navigate\+\_\+forward.\+h.

\index{Navigate\+Forward@{Navigate\+Forward}!listener@{listener}}
\index{listener@{listener}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener Navigate\+Forward\+::listener}\hypertarget{classNavigateForward_a40927a8ea2a861c7bb3ece9256600552}{}\label{classNavigateForward_a40927a8ea2a861c7bb3ece9256600552}


Definition at line 19 of file navigate\+\_\+forward.\+h.

\index{Navigate\+Forward@{Navigate\+Forward}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+::\+Smacc\+Move\+Base\+Action\+Client}$\ast$ Navigate\+Forward\+::move\+Base\+Client\+\_\+}\hypertarget{classNavigateForward_adeec3efc00297e64467a83d5ef82c44c}{}\label{classNavigateForward_adeec3efc00297e64467a83d5ef82c44c}


Definition at line 21 of file navigate\+\_\+forward.\+h.

\index{Navigate\+Forward@{Navigate\+Forward}!odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}}
\index{odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{odom\+Tracker\+\_\+}{odomTracker_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}$\ast$ Navigate\+Forward\+::odom\+Tracker\+\_\+}\hypertarget{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}{}\label{classNavigateForward_a1805443ef8d8fe292af6bde6298e43c9}


Definition at line 23 of file navigate\+\_\+forward.\+h.

\index{Navigate\+Forward@{Navigate\+Forward}!planner\+Switcher\+\_\+@{planner\+Switcher\+\_\+}}
\index{planner\+Switcher\+\_\+@{planner\+Switcher\+\_\+}!Navigate\+Forward@{Navigate\+Forward}}
\subsubsection[{\texorpdfstring{planner\+Switcher\+\_\+}{plannerSwitcher_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+\_\+planner\+\_\+switcher\+::\+Planner\+Switcher}$\ast$ Navigate\+Forward\+::planner\+Switcher\+\_\+}\hypertarget{classNavigateForward_a61052be8826f5bce96f56bfd0a0a8339}{}\label{classNavigateForward_a61052be8826f5bce96f56bfd0a0a8339}


Definition at line 25 of file navigate\+\_\+forward.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+sm\+\_\+examples/sm\+\_\+radial\+\_\+motion/include/sm\+\_\+radial\+\_\+motion/substates\+\_\+behaviors/navigation/\hyperlink{navigate__forward_8h}{navigate\+\_\+forward.\+h}\end{DoxyCompactItemize}
