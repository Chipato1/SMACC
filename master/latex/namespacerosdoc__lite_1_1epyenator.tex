\hypertarget{namespacerosdoc__lite_1_1epyenator}{}\section{rosdoc\+\_\+lite.\+epyenator Namespace Reference}
\label{namespacerosdoc__lite_1_1epyenator}\index{rosdoc\+\_\+lite.\+epyenator@{rosdoc\+\_\+lite.\+epyenator}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacerosdoc__lite_1_1epyenator_ade3100701733d5e37b07cc1964566ebc}{generate\+\_\+epydoc} (path, package, manifest, rd\+\_\+config, output\+\_\+dir, quiet)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{rosdoc\+\_\+lite\+::epyenator@{rosdoc\+\_\+lite\+::epyenator}!generate\+\_\+epydoc@{generate\+\_\+epydoc}}
\index{generate\+\_\+epydoc@{generate\+\_\+epydoc}!rosdoc\+\_\+lite\+::epyenator@{rosdoc\+\_\+lite\+::epyenator}}
\subsubsection[{\texorpdfstring{generate\+\_\+epydoc(path, package, manifest, rd\+\_\+config, output\+\_\+dir, quiet)}{generate_epydoc(path, package, manifest, rd_config, output_dir, quiet)}}]{\setlength{\rightskip}{0pt plus 5cm}def rosdoc\+\_\+lite.\+epyenator.\+generate\+\_\+epydoc (
\begin{DoxyParamCaption}
\item[{}]{path, }
\item[{}]{package, }
\item[{}]{manifest, }
\item[{}]{rd\+\_\+config, }
\item[{}]{output\+\_\+dir, }
\item[{}]{quiet}
\end{DoxyParamCaption}
)}\hypertarget{namespacerosdoc__lite_1_1epyenator_ade3100701733d5e37b07cc1964566ebc}{}\label{namespacerosdoc__lite_1_1epyenator_ade3100701733d5e37b07cc1964566ebc}
\begin{DoxyVerb}Main entrypoint into creating Epydoc documentation
\end{DoxyVerb}
 

Definition at line 44 of file epyenator.\+py.


\begin{DoxyCode}
44 \textcolor{keyword}{def }\hyperlink{namespacerosdoc__lite_1_1epyenator_ade3100701733d5e37b07cc1964566ebc}{generate\_epydoc}(path, package, manifest, rd\_config, output\_dir, quiet):
45     \textcolor{stringliteral}{"""}
46 \textcolor{stringliteral}{    Main entrypoint into creating Epydoc documentation}
47 \textcolor{stringliteral}{    """}
48     \textcolor{comment}{#make sure that we create docs in a subdirectory if requested}
49     html\_dir = os.path.join(output\_dir, rd\_config.get(\textcolor{stringliteral}{'output\_dir'}, \textcolor{stringliteral}{'.'}))
50 
51     \textcolor{keywordflow}{try}:
52         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.isdir(html\_dir):
53             os.makedirs(html\_dir)
54 
55         command = [\textcolor{stringliteral}{'epydoc'}, \textcolor{stringliteral}{'--html'}, package, \textcolor{stringliteral}{'-o'}, html\_dir]
56         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'exclude'} \textcolor{keywordflow}{in} rd\_config:
57             \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} rd\_config[\textcolor{stringliteral}{'exclude'}]:
58                 command.extend([\textcolor{stringliteral}{'--exclude'}, s])
59 
60         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'config'} \textcolor{keywordflow}{in} rd\_config:
61             command.extend([\textcolor{stringliteral}{'--config'}, os.path.join(path, rd\_config[\textcolor{stringliteral}{'config'}]) ])
62         \textcolor{keywordflow}{else}:
63             \textcolor{comment}{# default options}
64             command.extend([\textcolor{stringliteral}{'--inheritance'}, \textcolor{stringliteral}{'included'}, \textcolor{stringliteral}{'--no-private'}])
65 
66         \textcolor{comment}{# determine the python path of the package}
67         paths = python\_paths.generate\_python\_path(package, rospkg.RosPack(), manifest)
68         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} quiet:
69             print(\textcolor{stringliteral}{'generate\_epydoc() paths: %s'} % \textcolor{stringliteral}{', '}.join(paths))
70         env = os.environ.copy()
71         additional\_packages = [p \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} paths \textcolor{keywordflow}{if} os.path.exists(p)]
72         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} quiet:
73             print(\textcolor{stringliteral}{'generate\_epydoc() additional\_packages: %s'} % \textcolor{stringliteral}{', '}.join(additional\_packages))
74         \textcolor{keywordflow}{if} additional\_packages:
75             env[\textcolor{stringliteral}{'PYTHONPATH'}] = \textcolor{stringliteral}{"%s:%s"} % (os.pathsep.join(additional\_packages), env[\textcolor{stringliteral}{'PYTHONPATH'}])
76 
77         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} quiet:
78             print(\textcolor{stringliteral}{'generate\_epydoc() PYTHONPATH: %s'} % env.get(\textcolor{stringliteral}{'PYTHONPATH'}, \textcolor{stringliteral}{''}))
79             print(\textcolor{stringliteral}{"epydoc-building %s [%s]"} % (package, \textcolor{stringliteral}{' '}.join(command)))
80         output = subprocess.check\_output(command, stderr=subprocess.STDOUT, env=env, cwd=path)
81         print(output)
82     \textcolor{keywordflow}{except} subprocess.CalledProcessError \textcolor{keyword}{as} e:
83         print(e.output, file=sys.stderr)
84         print(\textcolor{stringliteral}{"Unable to generate epydoc for [%s]. The return code is %d"} % (package, e.returncode), file=
      sys.stderr)
85         \textcolor{keywordflow}{raise}
86     \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:
87         print(\textcolor{stringliteral}{"Unable to generate epydoc for [%s]. This is probably because epydoc is not installed.\(\backslash\)nThe
       exact error is:\(\backslash\)n\(\backslash\)t%s"} % (package, str(e)), file=sys.stderr)
88         \textcolor{keywordflow}{raise}
89 \end{DoxyCode}
