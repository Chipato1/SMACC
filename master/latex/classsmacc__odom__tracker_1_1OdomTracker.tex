\hypertarget{classsmacc__odom__tracker_1_1OdomTracker}{}\section{smacc\+\_\+odom\+\_\+tracker\+:\+:Odom\+Tracker Class Reference}
\label{classsmacc__odom__tracker_1_1OdomTracker}\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}


This class track the required distance of the cord based on the external localization system.  




{\ttfamily \#include $<$odom\+\_\+tracker.\+h$>$}



Inheritance diagram for smacc\+\_\+odom\+\_\+tracker\+:\+:Odom\+Tracker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classsmacc__odom__tracker_1_1OdomTracker__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for smacc\+\_\+odom\+\_\+tracker\+:\+:Odom\+Tracker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a7d9920de9aa3624896b206da2c28f070}{Odom\+Tracker} ()
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a4b3ff3f659474cb7bdd6b4b54dcc0a53}{initialize} (std\+::string node\+Name)
\begin{DoxyCompactList}\small\item\em Must be called at the begining of the execution. \end{DoxyCompactList}\item 
virtual void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1}{process\+Odometry\+Message} (const nav\+\_\+msgs\+::\+Odometry \&odom)
\begin{DoxyCompactList}\small\item\em odom callback\+: Updates the path -\/ this must be called periodically for each odometry message. \end{DoxyCompactList}\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45}{set\+Working\+Mode} (\hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33}{Working\+Mode} working\+Mode)
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5808c41a9d8d75a70ec66fa581af4570}{set\+Publish\+Messages} (\hyperlink{classbool}{bool} value)
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a01194bc1bd8095929c61fc912a44e534}{push\+Path} ()
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a915623e872cc34912c8d50cffd9551f2}{pop\+Path} ()
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae}{clear\+Path} ()
\item 
void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5ac7c4770b3e29b74571ef65377048ee}{set\+Start\+Point} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&pose)
\item 
nav\+\_\+msgs\+::\+Path \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ace0762f93bc272a426d3038f74dc8752}{get\+Path} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}{rt\+Publish\+Paths} (ros\+::\+Time timestamp)
\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659}{update\+Forward} (const nav\+\_\+msgs\+::\+Odometry \&odom)
\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7}{update\+Backward} (const nav\+\_\+msgs\+::\+Odometry \&odom)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ nav\+\_\+msgs\+::\+Path $>$ $>$ \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{robot\+Base\+Path\+Pub\+\_\+}
\item 
ros\+::\+Subscriber \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a901bd60f4c1d21537a160d034ff504ef}{odom\+Sub\+\_\+}
\item 
double \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}{min\+Point\+Distance\+Forward\+Thresh\+\_\+}
\begin{DoxyCompactList}\small\item\em How much distance there is between two points of the path. \end{DoxyCompactList}\item 
double \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{min\+Point\+Distance\+Backward\+Thresh\+\_\+}
\begin{DoxyCompactList}\small\item\em Meters. \end{DoxyCompactList}\item 
double \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a1611f6e11f48e8c2bdf6d16adf35fa2a}{min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+}
\begin{DoxyCompactList}\small\item\em rads \end{DoxyCompactList}\item 
double \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac7cac171a63c8981f8233f71c94d0776}{min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+}
\begin{DoxyCompactList}\small\item\em rads \end{DoxyCompactList}\item 
\hyperlink{classbool}{bool} \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}{publish\+Messages}
\item 
nav\+\_\+msgs\+::\+Path \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{base\+Trajectory\+\_\+}
\begin{DoxyCompactList}\small\item\em Processed path for the mouth of the reel. \end{DoxyCompactList}\item 
\hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33}{Working\+Mode} \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{working\+Mode\+\_\+}
\item 
std\+::vector$<$ nav\+\_\+msgs\+::\+Path $>$ \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{path\+Stack\+\_\+}
\item 
\hyperlink{classbool}{bool} \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a394c4040c01f687c427d34c0ab50ba3e}{subscribe\+To\+Odometry\+Topic\+\_\+}
\item 
std\+::mutex \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\+\_\+mutex\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class track the required distance of the cord based on the external localization system. 

Definition at line 34 of file odom\+\_\+tracker.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!Odom\+Tracker@{Odom\+Tracker}}
\index{Odom\+Tracker@{Odom\+Tracker}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{Odom\+Tracker()}{OdomTracker()}}]{\setlength{\rightskip}{0pt plus 5cm}smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::\+Odom\+Tracker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a7d9920de9aa3624896b206da2c28f070}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a7d9920de9aa3624896b206da2c28f070}


Definition at line 11 of file odom\+\_\+tracker.\+cpp.



References publish\+Messages, smacc\+\_\+odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+T\+H\+\_\+\+F\+O\+R\+W\+A\+RD, subscribe\+To\+Odometry\+Topic\+\_\+, and working\+Mode\+\_\+.


\begin{DoxyCode}
12 \{
13     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{workingMode\_} = \hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33a989d06a586bcf9520889228da7faa643}{WorkingMode::RECORD\_PATH\_FORWARD};
14     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}{publishMessages} = \textcolor{keyword}{true};
15     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a394c4040c01f687c427d34c0ab50ba3e}{subscribeToOdometryTopic\_} = \textcolor{keyword}{true};
16 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!clear\+Path@{clear\+Path}}
\index{clear\+Path@{clear\+Path}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{clear\+Path()}{clearPath()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::clear\+Path (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae}


Definition at line 108 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, m\+\_\+mutex\+\_\+, and rt\+Publish\+Paths().



Referenced by sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Forward\+::on\+Entry(), and sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Entry().


\begin{DoxyCode}
109 \{
110     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
111     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.clear();
112 
113     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}{rtPublishPaths}(ros::Time::now());
114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a81ef228f0c2659e1bf9f8fdcb03fc7ae_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!get\+Path@{get\+Path}}
\index{get\+Path@{get\+Path}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{get\+Path()}{getPath()}}]{\setlength{\rightskip}{0pt plus 5cm}nav\+\_\+msgs\+::\+Path smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::get\+Path (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_ace0762f93bc272a426d3038f74dc8752}{}\label{classsmacc__odom__tracker_1_1OdomTracker_ace0762f93bc272a426d3038f74dc8752}


Definition at line 129 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, and m\+\_\+mutex\+\_\+.



Referenced by sm\+\_\+dance\+\_\+bot\+::\+Cb\+Undo\+Path\+Backwards\+::on\+Entry().


\begin{DoxyCode}
130 \{
131     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
132     \textcolor{keywordflow}{return} this->\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_};
133 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_ace0762f93bc272a426d3038f74dc8752_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!initialize@{initialize}}
\index{initialize@{initialize}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{initialize(std\+::string node\+Name)}{initialize(std::string nodeName)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::initialize (
\begin{DoxyParamCaption}
\item[{std\+::string}]{node\+Name}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a4b3ff3f659474cb7bdd6b4b54dcc0a53}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a4b3ff3f659474cb7bdd6b4b54dcc0a53}


Must be called at the begining of the execution. 

init() 

Definition at line 23 of file odom\+\_\+tracker.\+cpp.



References min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+, min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+, min\+Point\+Distance\+Backward\+Thresh\+\_\+, min\+Point\+Distance\+Forward\+Thresh\+\_\+, odom\+Sub\+\_\+, process\+Odometry\+Message(), robot\+Base\+Path\+Pub\+\_\+, and subscribe\+To\+Odometry\+Topic\+\_\+.



Referenced by sm\+\_\+dance\+\_\+bot\+::\+Navigation\+Orthogonal\+::on\+Initialize().


\begin{DoxyCode}
24 \{
25     ros::NodeHandle nh(nodeName);
26 
27     ROS\_WARN(\textcolor{stringliteral}{"Initializing Odometry Tracker"});
28 
29     \textcolor{keywordflow}{if}(!nh.getParam(\textcolor{stringliteral}{"min\_point\_distance\_forward\_thresh"},
      \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}{minPointDistanceForwardThresh\_}))
30     \{
31         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}{minPointDistanceForwardThresh\_} = 0.005; \textcolor{comment}{// 1 mm}
32     \}
33 
34     \textcolor{keywordflow}{if}(!nh.getParam(\textcolor{stringliteral}{"min\_point\_distance\_backward\_thresh"},
      \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{minPointDistanceBackwardThresh\_}))
35     \{
36         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{minPointDistanceBackwardThresh\_} = 0.05; \textcolor{comment}{// 1 mm}
37     \}
38 
39     \textcolor{keywordflow}{if}(!nh.getParam(\textcolor{stringliteral}{"min\_point\_angular\_distance\_forward\_thresh"},
      \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a1611f6e11f48e8c2bdf6d16adf35fa2a}{minPointAngularDistanceForwardThresh\_}))
40     \{
41         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a1611f6e11f48e8c2bdf6d16adf35fa2a}{minPointAngularDistanceForwardThresh\_} = 0.15 ; \textcolor{comment}{// degree}
42     \}
43 
44     \textcolor{keywordflow}{if}(!nh.getParam(\textcolor{stringliteral}{"min\_point\_angular\_distance\_backward\_thresh"},
      \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac7cac171a63c8981f8233f71c94d0776}{minPointAngularDistanceBackwardThresh\_}))
45     \{
46         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac7cac171a63c8981f8233f71c94d0776}{minPointAngularDistanceBackwardThresh\_} = 0.15 ; \textcolor{comment}{// degree}
47     \}
48 
49     \textcolor{keywordflow}{if}(this->\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a394c4040c01f687c427d34c0ab50ba3e}{subscribeToOdometryTopic\_})
50     \{
51         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a901bd60f4c1d21537a160d034ff504ef}{odomSub\_}= nh.subscribe(\textcolor{stringliteral}{"odom"}, 1, &
      \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1}{OdomTracker::processOdometryMessage}, \textcolor{keyword}{this});
52     \}
53 
54     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{robotBasePathPub\_} = std::make\_shared<realtime\_tools::RealtimePublisher<nav\_msgs::Path>
      >(nh, \textcolor{stringliteral}{"odom\_tracker\_path"}, 1);
55 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a4b3ff3f659474cb7bdd6b4b54dcc0a53_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a4b3ff3f659474cb7bdd6b4b54dcc0a53_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!pop\+Path@{pop\+Path}}
\index{pop\+Path@{pop\+Path}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{pop\+Path()}{popPath()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::pop\+Path (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a915623e872cc34912c8d50cffd9551f2}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a915623e872cc34912c8d50cffd9551f2}


Definition at line 94 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, m\+\_\+mutex\+\_\+, and path\+Stack\+\_\+.



Referenced by Odom\+Tracker\+Action\+Server\+::execute().


\begin{DoxyCode}
95 \{
96     ROS\_INFO(\textcolor{stringliteral}{"odom\_tracker m\_mutex acquire"});
97     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
98     
99     \textcolor{keywordflow}{if}(!\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{pathStack\_}.empty())
100     \{
101         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses = \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{pathStack\_}.back().poses;
102         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{pathStack\_}.pop\_back();
103     \}
104 
105     ROS\_INFO(\textcolor{stringliteral}{"odom\_tracker m\_mutex release"});
106 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a915623e872cc34912c8d50cffd9551f2_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!process\+Odometry\+Message@{process\+Odometry\+Message}}
\index{process\+Odometry\+Message@{process\+Odometry\+Message}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{process\+Odometry\+Message(const nav\+\_\+msgs\+::\+Odometry \&odom)}{processOdometryMessage(const nav_msgs::Odometry &odom)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::process\+Odometry\+Message (
\begin{DoxyParamCaption}
\item[{const nav\+\_\+msgs\+::\+Odometry \&}]{odom}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1}{}\label{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1}


odom callback\+: Updates the path -\/ this must be called periodically for each odometry message. 

\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1}{process\+Odometry\+Message()} 

Definition at line 253 of file odom\+\_\+tracker.\+cpp.



References smacc\+\_\+odom\+\_\+tracker\+::\+C\+L\+E\+A\+R\+\_\+\+P\+A\+T\+H\+\_\+\+B\+A\+C\+K\+W\+A\+RD, m\+\_\+mutex\+\_\+, publish\+Messages, smacc\+\_\+odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+T\+H\+\_\+\+F\+O\+R\+W\+A\+RD, rt\+Publish\+Paths(), update\+Backward(), update\+Forward(), and working\+Mode\+\_\+.



Referenced by initialize().


\begin{DoxyCode}
254 \{
255     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex acquire");}
256     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
257 
258     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{workingMode\_} == \hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33a989d06a586bcf9520889228da7faa643}{WorkingMode::RECORD\_PATH\_FORWARD})
259     \{
260         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659}{updateForward}(odom);
261     \}       
262     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{workingMode\_} == \hyperlink{namespacesmacc__odom__tracker_ade9730dd5cc10ccfad9362176cf46c33a0cf8f27617189e35619df3c18bda6274}{WorkingMode::CLEAR\_PATH\_BACKWARD})
263     \{
264         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7}{updateBackward}(odom);
265     \}
266 
267     \textcolor{comment}{//ROS\_WARN("odomTracker odometry callback");}
268     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}{publishMessages})
269     \{
270         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}{rtPublishPaths}(odom.header.stamp);
271     \}
272 
273     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex release");}
274 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_adef7b87ba453ca86886239d875344de1_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!push\+Path@{push\+Path}}
\index{push\+Path@{push\+Path}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{push\+Path()}{pushPath()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::push\+Path (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a01194bc1bd8095929c61fc912a44e534}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a01194bc1bd8095929c61fc912a44e534}


Definition at line 85 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, m\+\_\+mutex\+\_\+, and path\+Stack\+\_\+.



Referenced by Odom\+Tracker\+Action\+Server\+::execute().


\begin{DoxyCode}
86 \{
87     ROS\_INFO(\textcolor{stringliteral}{"odom\_tracker m\_mutex acquire"});
88     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
89     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{pathStack\_}.push\_back(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_});
90     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.clear();
91     ROS\_INFO(\textcolor{stringliteral}{"odom\_tracker m\_mutex release"});
92 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a01194bc1bd8095929c61fc912a44e534_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!rt\+Publish\+Paths@{rt\+Publish\+Paths}}
\index{rt\+Publish\+Paths@{rt\+Publish\+Paths}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{rt\+Publish\+Paths(ros\+::\+Time timestamp)}{rtPublishPaths(ros::Time timestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::rt\+Publish\+Paths (
\begin{DoxyParamCaption}
\item[{ros\+::\+Time}]{timestamp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c}{rt\+Publish\+Paths()} Copy trajectory 

Definition at line 140 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, keyboard\+\_\+node\+::msg, and robot\+Base\+Path\+Pub\+\_\+.



Referenced by clear\+Path(), and process\+Odometry\+Message().


\begin{DoxyCode}
141 \{
142     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{robotBasePathPub\_}->trylock())
143     \{
144         nav\_msgs::Path& \hyperlink{namespacekeyboard__node_a768777e12f75b89e4a0a60acf748e9eb}{msg} = \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{robotBasePathPub\_}->msg\_;
146 
147         msg = \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_};
148         msg.header.stamp = timestamp;
149         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{robotBasePathPub\_}->unlockAndPublish();
150     \}
151 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a8c9144a9d8b9ede7f45d06492496564c_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!set\+Publish\+Messages@{set\+Publish\+Messages}}
\index{set\+Publish\+Messages@{set\+Publish\+Messages}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{set\+Publish\+Messages(bool value)}{setPublishMessages(bool value)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Publish\+Messages (
\begin{DoxyParamCaption}
\item[{{\bf bool}}]{value}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a5808c41a9d8d75a70ec66fa581af4570}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a5808c41a9d8d75a70ec66fa581af4570}
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5808c41a9d8d75a70ec66fa581af4570}{set\+Publish\+Messages()} 

Definition at line 77 of file odom\+\_\+tracker.\+cpp.



References m\+\_\+mutex\+\_\+, and publish\+Messages.



Referenced by Odom\+Tracker\+Action\+Server\+::execute().


\begin{DoxyCode}
78 \{
79     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex acquire");}
80     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
81     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}{publishMessages} = value;
82     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex release");}
83 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a5808c41a9d8d75a70ec66fa581af4570_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!set\+Start\+Point@{set\+Start\+Point}}
\index{set\+Start\+Point@{set\+Start\+Point}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{set\+Start\+Point(const geometry\+\_\+msgs\+::\+Pose\+Stamped \&pose)}{setStartPoint(const geometry_msgs::PoseStamped &pose)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Start\+Point (
\begin{DoxyParamCaption}
\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{pose}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a5ac7c4770b3e29b74571ef65377048ee}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a5ac7c4770b3e29b74571ef65377048ee}


Definition at line 116 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, and m\+\_\+mutex\+\_\+.



Referenced by sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Forward\+::on\+Entry(), and sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Entry().


\begin{DoxyCode}
117 \{
118     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
119     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.size() >0)
120     \{
121         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses[0]=pose;
122     \}
123     \textcolor{keywordflow}{else}
124     \{
125         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.push\_back(pose);
126     \}
127 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a5ac7c4770b3e29b74571ef65377048ee_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!set\+Working\+Mode@{set\+Working\+Mode}}
\index{set\+Working\+Mode@{set\+Working\+Mode}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{set\+Working\+Mode(\+Working\+Mode working\+Mode)}{setWorkingMode(WorkingMode workingMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf Working\+Mode}}]{working\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45}
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45}{set\+Working\+Mode()} 

Definition at line 63 of file odom\+\_\+tracker.\+cpp.



References m\+\_\+mutex\+\_\+, and working\+Mode\+\_\+.



Referenced by Odom\+Tracker\+Action\+Server\+::execute(), sm\+\_\+dance\+\_\+bot\+::\+Cb\+Undo\+Path\+Backwards\+::on\+Entry(), sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Global\+Position\+::on\+Entry(), sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Forward\+::on\+Entry(), sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Entry(), sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Forward\+::on\+Exit(), and sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Exit().


\begin{DoxyCode}
64 \{
65     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex acquire");}
66     std::lock\_guard<std::mutex> lock(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{m\_mutex\_});
67     ROS\_INFO(\textcolor{stringliteral}{"[OdomTracker] setting working mode to: %d"}, (uint8\_t)workingMode);
68     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{workingMode\_} = workingMode;
69     \textcolor{comment}{//ROS\_INFO("odom\_tracker m\_mutex release");}
70 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a38fbca999297c46dc95628cc60851a45_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!update\+Backward@{update\+Backward}}
\index{update\+Backward@{update\+Backward}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{update\+Backward(const nav\+\_\+msgs\+::\+Odometry \&odom)}{updateBackward(const nav_msgs::Odometry &odom)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::update\+Backward (
\begin{DoxyParamCaption}
\item[{const nav\+\_\+msgs\+::\+Odometry \&}]{odom}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7}
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7}{update\+Backward()} Track robot base pose

Not removing point because it is enough far from the last cord point 

Definition at line 158 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, min\+Point\+Distance\+Backward\+Thresh\+\_\+, and smacc\+\_\+odom\+\_\+tracker\+::p2p\+Distance().



Referenced by process\+Odometry\+Message().


\begin{DoxyCode}
159 \{
160     \textcolor{comment}{// we initially accept any message if the queue is empty   }
162 \textcolor{comment}{}    geometry\_msgs::PoseStamped base\_pose;
163     
164     base\_pose.pose = odom.pose.pose;
165     base\_pose.header = odom.header;
166     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.header = odom.header;
167 
168     \textcolor{keywordtype}{bool} acceptBackward = \textcolor{keyword}{false};
169     \textcolor{keywordtype}{bool} pullingerror = \textcolor{keyword}{false};
170     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.empty())
171     \{
172         acceptBackward=\textcolor{keyword}{false};
173     \}
174     \textcolor{keywordflow}{else}
175     \{
176         \textcolor{keyword}{const} geometry\_msgs::Point& prevPoint = \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.back().pose.position;
177         \textcolor{keyword}{const} geometry\_msgs::Point& currePoint = base\_pose.pose.position;
178         \textcolor{keywordtype}{double} lastpointdist = \hyperlink{namespacesmacc__odom__tracker_a93496d9bf987249b884e9b0e60778a11}{p2pDistance}(prevPoint, currePoint);
179         
180         acceptBackward = !\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.empty() 
181                         && lastpointdist < \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{minPointDistanceBackwardThresh\_};
182 
183         pullingerror = lastpointdist > 2 * \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{minPointDistanceBackwardThresh\_};
184     \}
185 
186     \textcolor{comment}{//ROS\_INFO("Backwards, last distance: %lf < %lf accept: %d", dist, minPointDistanceBackwardThresh\_,
       acceptBackward);}
187     \textcolor{keywordflow}{if} (acceptBackward) 
188     \{
189         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.pop\_back();
190     \} 
191     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pullingerror) \{
192         ROS\_INFO\_THROTTLE(2,\textcolor{stringliteral}{"Incorrect backwards motion."});
193     \} 
194     \textcolor{keywordflow}{else} 
195     \{
197     \}
198 
199     \textcolor{keywordflow}{return} acceptBackward;
200 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a3a47119be9af27de9115b043d1f76fe7_icgraph}
\end{center}
\end{figure}


\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!update\+Forward@{update\+Forward}}
\index{update\+Forward@{update\+Forward}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{update\+Forward(const nav\+\_\+msgs\+::\+Odometry \&odom)}{updateForward(const nav_msgs::Odometry &odom)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::update\+Forward (
\begin{DoxyParamCaption}
\item[{const nav\+\_\+msgs\+::\+Odometry \&}]{odom}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659}
\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659}{update\+Forward()} Track robot base pose 

Definition at line 206 of file odom\+\_\+tracker.\+cpp.



References base\+Trajectory\+\_\+, min\+Point\+Distance\+Forward\+Thresh\+\_\+, and smacc\+\_\+odom\+\_\+tracker\+::p2p\+Distance().



Referenced by process\+Odometry\+Message().


\begin{DoxyCode}
207 \{
209     geometry\_msgs::PoseStamped base\_pose;
210 
211     base\_pose.pose = odom.pose.pose;
212     base\_pose.header = odom.header;
213     \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.header = odom.header;
214 
215     \textcolor{keywordtype}{bool} enqueueOdomMessage = \textcolor{keyword}{false};
216 
217     \textcolor{keywordtype}{double} dist = -1;
218     \textcolor{keywordflow}{if}(\hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.empty())
219     \{
220         enqueueOdomMessage = \textcolor{keyword}{true};
221     \}
222     \textcolor{keywordflow}{else}
223     \{
224         \textcolor{keyword}{const} geometry\_msgs::Point& prevPoint = \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.back().pose.position;
225         \textcolor{keyword}{const} geometry\_msgs::Point& currePoint = base\_pose.pose.position;
226         dist = \hyperlink{namespacesmacc__odom__tracker_a93496d9bf987249b884e9b0e60778a11}{p2pDistance}(prevPoint, currePoint);
227         \textcolor{comment}{//ROS\_WARN("dist %lf vs min %lf", dist, minPointDistanceForwardThresh\_);}
228 
229         \textcolor{keywordflow}{if}(dist > \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}{minPointDistanceForwardThresh\_})
230         \{
231             enqueueOdomMessage = \textcolor{keyword}{true};
232         \}
233         \textcolor{keywordflow}{else}
234         \{
235             \textcolor{comment}{//ROS\_WARN("skip odom, dist: %lf", dist);}
236             enqueueOdomMessage = \textcolor{keyword}{false};
237         \}
238     \}
239 
240     \textcolor{keywordflow}{if}(enqueueOdomMessage)
241     \{
242         \hyperlink{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{baseTrajectory\_}.poses.push\_back(base\_pose);
243     \}
244 
245     \textcolor{keywordflow}{return} enqueueOdomMessage;
246 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc__odom__tracker_1_1OdomTracker_a7ef4ecc171a6fd37b2ed3c96a58e0659_icgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!base\+Trajectory\+\_\+@{base\+Trajectory\+\_\+}}
\index{base\+Trajectory\+\_\+@{base\+Trajectory\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{base\+Trajectory\+\_\+}{baseTrajectory_}}]{\setlength{\rightskip}{0pt plus 5cm}nav\+\_\+msgs\+::\+Path smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::base\+Trajectory\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}{}\label{classsmacc__odom__tracker_1_1OdomTracker_ac3a17be46ab833632c5f63e75c840dc7}


Processed path for the mouth of the reel. 



Definition at line 109 of file odom\+\_\+tracker.\+h.



Referenced by clear\+Path(), get\+Path(), pop\+Path(), push\+Path(), rt\+Publish\+Paths(), set\+Start\+Point(), update\+Backward(), and update\+Forward().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}}
\index{m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{m\+\_\+mutex\+\_\+}{m_mutex_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::mutex smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}{}\label{classsmacc__odom__tracker_1_1OdomTracker_ad65e52bfd236e073940808c35f2bed8c}


Definition at line 118 of file odom\+\_\+tracker.\+h.



Referenced by clear\+Path(), get\+Path(), pop\+Path(), process\+Odometry\+Message(), push\+Path(), set\+Publish\+Messages(), set\+Start\+Point(), and set\+Working\+Mode().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+@{min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+}}
\index{min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+@{min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+}{minPointAngularDistanceBackwardThresh_}}]{\setlength{\rightskip}{0pt plus 5cm}double smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::min\+Point\+Angular\+Distance\+Backward\+Thresh\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_ac7cac171a63c8981f8233f71c94d0776}{}\label{classsmacc__odom__tracker_1_1OdomTracker_ac7cac171a63c8981f8233f71c94d0776}


rads 



Definition at line 101 of file odom\+\_\+tracker.\+h.



Referenced by initialize().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+@{min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+}}
\index{min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+@{min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+}{minPointAngularDistanceForwardThresh_}}]{\setlength{\rightskip}{0pt plus 5cm}double smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::min\+Point\+Angular\+Distance\+Forward\+Thresh\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a1611f6e11f48e8c2bdf6d16adf35fa2a}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a1611f6e11f48e8c2bdf6d16adf35fa2a}


rads 



Definition at line 98 of file odom\+\_\+tracker.\+h.



Referenced by initialize().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!min\+Point\+Distance\+Backward\+Thresh\+\_\+@{min\+Point\+Distance\+Backward\+Thresh\+\_\+}}
\index{min\+Point\+Distance\+Backward\+Thresh\+\_\+@{min\+Point\+Distance\+Backward\+Thresh\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{min\+Point\+Distance\+Backward\+Thresh\+\_\+}{minPointDistanceBackwardThresh_}}]{\setlength{\rightskip}{0pt plus 5cm}double smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::min\+Point\+Distance\+Backward\+Thresh\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a79d94520c5da1852602aaf264377a82f}


Meters. 



Definition at line 95 of file odom\+\_\+tracker.\+h.



Referenced by initialize(), and update\+Backward().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!min\+Point\+Distance\+Forward\+Thresh\+\_\+@{min\+Point\+Distance\+Forward\+Thresh\+\_\+}}
\index{min\+Point\+Distance\+Forward\+Thresh\+\_\+@{min\+Point\+Distance\+Forward\+Thresh\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{min\+Point\+Distance\+Forward\+Thresh\+\_\+}{minPointDistanceForwardThresh_}}]{\setlength{\rightskip}{0pt plus 5cm}double smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::min\+Point\+Distance\+Forward\+Thresh\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a0017d7740d99c2cc8ba946495b96ce41}


How much distance there is between two points of the path. 



Definition at line 92 of file odom\+\_\+tracker.\+h.



Referenced by initialize(), and update\+Forward().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!odom\+Sub\+\_\+@{odom\+Sub\+\_\+}}
\index{odom\+Sub\+\_\+@{odom\+Sub\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{odom\+Sub\+\_\+}{odomSub_}}]{\setlength{\rightskip}{0pt plus 5cm}ros\+::\+Subscriber smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::odom\+Sub\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a901bd60f4c1d21537a160d034ff504ef}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a901bd60f4c1d21537a160d034ff504ef}


Definition at line 88 of file odom\+\_\+tracker.\+h.



Referenced by initialize().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!path\+Stack\+\_\+@{path\+Stack\+\_\+}}
\index{path\+Stack\+\_\+@{path\+Stack\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{path\+Stack\+\_\+}{pathStack_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$nav\+\_\+msgs\+::\+Path$>$ smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::path\+Stack\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a6cdd5d1199cf4638d70a2232081ac076}


Definition at line 113 of file odom\+\_\+tracker.\+h.



Referenced by pop\+Path(), and push\+Path().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!publish\+Messages@{publish\+Messages}}
\index{publish\+Messages@{publish\+Messages}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{publish\+Messages}{publishMessages}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::publish\+Messages\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a5aaa7b76cae6ed70524d0f2ac04cbe70}


Definition at line 106 of file odom\+\_\+tracker.\+h.



Referenced by Odom\+Tracker(), process\+Odometry\+Message(), and set\+Publish\+Messages().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!robot\+Base\+Path\+Pub\+\_\+@{robot\+Base\+Path\+Pub\+\_\+}}
\index{robot\+Base\+Path\+Pub\+\_\+@{robot\+Base\+Path\+Pub\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{robot\+Base\+Path\+Pub\+\_\+}{robotBasePathPub_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::shared\+\_\+ptr$<$realtime\+\_\+tools\+::\+Realtime\+Publisher$<$nav\+\_\+msgs\+::\+Path$>$ $>$ smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::robot\+Base\+Path\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a32d060919f2630e0695ce016c0563a3f}


Definition at line 83 of file odom\+\_\+tracker.\+h.



Referenced by initialize(), and rt\+Publish\+Paths().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!subscribe\+To\+Odometry\+Topic\+\_\+@{subscribe\+To\+Odometry\+Topic\+\_\+}}
\index{subscribe\+To\+Odometry\+Topic\+\_\+@{subscribe\+To\+Odometry\+Topic\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{subscribe\+To\+Odometry\+Topic\+\_\+}{subscribeToOdometryTopic_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::subscribe\+To\+Odometry\+Topic\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_a394c4040c01f687c427d34c0ab50ba3e}{}\label{classsmacc__odom__tracker_1_1OdomTracker_a394c4040c01f687c427d34c0ab50ba3e}


Definition at line 116 of file odom\+\_\+tracker.\+h.



Referenced by initialize(), and Odom\+Tracker().

\index{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}!working\+Mode\+\_\+@{working\+Mode\+\_\+}}
\index{working\+Mode\+\_\+@{working\+Mode\+\_\+}!smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker@{smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker}}
\subsubsection[{\texorpdfstring{working\+Mode\+\_\+}{workingMode_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Working\+Mode} smacc\+\_\+odom\+\_\+tracker\+::\+Odom\+Tracker\+::working\+Mode\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}{}\label{classsmacc__odom__tracker_1_1OdomTracker_ad011432ae35a533fd61bae43179c3c36}


Definition at line 111 of file odom\+\_\+tracker.\+h.



Referenced by Odom\+Tracker(), process\+Odometry\+Message(), and set\+Working\+Mode().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/smacc\+\_\+navigation/smacc\+\_\+odom\+\_\+tracker/include/smacc\+\_\+odom\+\_\+tracker/\hyperlink{odom__tracker_8h}{odom\+\_\+tracker.\+h}\item 
smacc\+\_\+client\+\_\+library/smacc\+\_\+navigation/smacc\+\_\+odom\+\_\+tracker/src/\hyperlink{odom__tracker_8cpp}{odom\+\_\+tracker.\+cpp}\end{DoxyCompactItemize}
