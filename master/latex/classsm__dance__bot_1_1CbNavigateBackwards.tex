\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards}{}\section{sm\+\_\+dance\+\_\+bot\+:\+:Cb\+Navigate\+Backwards Class Reference}
\label{classsm__dance__bot_1_1CbNavigateBackwards}\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}


{\ttfamily \#include $<$cb\+\_\+navigate\+\_\+backward.\+h$>$}



Inheritance diagram for sm\+\_\+dance\+\_\+bot\+:\+:Cb\+Navigate\+Backwards\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classsm__dance__bot_1_1CbNavigateBackwards__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for sm\+\_\+dance\+\_\+bot\+:\+:Cb\+Navigate\+Backwards\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1CbNavigateBackwards__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}{Cb\+Navigate\+Backwards} (float \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backward\+Distance})
\item 
\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}{Cb\+Navigate\+Backwards} ()
\item 
virtual void \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}{on\+Entry} () override
\item 
virtual void \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}{on\+Exit} () override
\item 
\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}{Cb\+Navigate\+Backwards} (float \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backward\+Distance})
\item 
\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}{Cb\+Navigate\+Backwards} ()
\item 
virtual void \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}{on\+Entry} () override
\item 
virtual void \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}{on\+Exit} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backward\+Distance}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a329c8dbb9c52b3b69393800872cc6e60}{backward\+Speed}
\item 
tf\+::\+Transform\+Listener \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a4ec9af0d5b94c5e0654a768c36bec85b}{listener}
\item 
\hyperlink{classsmacc_1_1ClMoveBaseZ}{smacc\+::\+Cl\+Move\+BaseZ} $\ast$ \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{move\+Base\+Client\+\_\+}
\item 
\hyperlink{classodom__tracker_1_1OdomTracker}{odom\+\_\+tracker\+::\+Odom\+Tracker} $\ast$ \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odom\+Tracker\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 12 of file cb\+\_\+navigate\+\_\+backward.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}}
\index{Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Backwards(float backward\+Distance)}{CbNavigateBackwards(float backwardDistance)}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::\+Cb\+Navigate\+Backwards (
\begin{DoxyParamCaption}
\item[{float}]{backward\+Distance}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}


Definition at line 24 of file cb\+\_\+navigate\+\_\+backward.\+h.



References backward\+Distance.


\begin{DoxyCode}
25     \{
26         \textcolor{keywordflow}{if} (\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} < 0)
27         \{
28             ROS\_ERROR(\textcolor{stringliteral}{"cb backward: distance must be greater or equal than 0"});
29             this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} = 0;
30         \}
31         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} = \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance};
32     \}
\end{DoxyCode}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}}
\index{Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Backwards()}{CbNavigateBackwards()}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::\+Cb\+Navigate\+Backwards (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}


Definition at line 34 of file cb\+\_\+navigate\+\_\+backward.\+h.


\begin{DoxyCode}
35     \{
36     \}
\end{DoxyCode}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}}
\index{Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Backwards(float backward\+Distance)}{CbNavigateBackwards(float backwardDistance)}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::\+Cb\+Navigate\+Backwards (
\begin{DoxyParamCaption}
\item[{float}]{backward\+Distance}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_aa5bcc8ba901c4464370399158d5818b6}


Definition at line 25 of file cb\+\_\+navigate\+\_\+backward.\+h.



References backward\+Distance.


\begin{DoxyCode}
26     \{
27         \textcolor{keywordflow}{if} (\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} < 0)
28         \{
29             ROS\_ERROR(\textcolor{stringliteral}{"cb backward: distance must be greater or equal than 0"});
30             this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} = 0;
31         \}
32         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance} = \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance};
33     \}
\end{DoxyCode}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}}
\index{Cb\+Navigate\+Backwards@{Cb\+Navigate\+Backwards}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{Cb\+Navigate\+Backwards()}{CbNavigateBackwards()}}]{\setlength{\rightskip}{0pt plus 5cm}sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::\+Cb\+Navigate\+Backwards (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ac2a9b5ab4d13f2af824511c9385c2d6d}


Definition at line 35 of file cb\+\_\+navigate\+\_\+backward.\+h.


\begin{DoxyCode}
36     \{
37     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 38 of file cb\+\_\+navigate\+\_\+backward.\+h.



References backward\+Distance, odom\+\_\+tracker\+::\+Odom\+Tracker\+::clear\+Path(), smacc\+::\+Smacc\+Client\+Behavior\+::current\+State, odom\+Tracker\+\_\+, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Cl\+Move\+Base\+Z\+::planner\+Switcher\+\_\+, odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+T\+H\+\_\+\+F\+O\+R\+W\+A\+RD, smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), smacc\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Start\+Point(), and odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode().


\begin{DoxyCode}
39     \{
40         \textcolor{comment}{// straight motion distance}
41         \textcolor{keywordtype}{double} dist;
42 
43         \textcolor{keywordflow}{if} (!\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance})
44         \{
45             this->\hyperlink{classsmacc_1_1SmaccClientBehavior_af76fc9b877542ed5caf033f820c107d0}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"straight\_motion\_distance"}, dist, 3.5);
46         \}
47         \textcolor{keywordflow}{else}
48         \{
49             dist = *\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance};
50         \}
51 
52         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"Straight motion distance: "} << dist);
53 
54         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_});
55         \textcolor{keyword}{auto} \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_} = this->getComponent<odom\_tracker::OdomTracker>();
56         
57         \textcolor{comment}{//this should work better with a coroutine and await}
58         ros::Rate rate(10.0);
59         tf::StampedTransform currentPose;
60 
61         \textcolor{keywordflow}{while} (ros::ok())
62         \{
63             \textcolor{keywordflow}{try}
64             \{
65                 \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a4ec9af0d5b94c5e0654a768c36bec85b}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
66                                          ros::Time(0), currentPose);
67 
68                 \textcolor{keywordflow}{break};
69             \}
70             \textcolor{keywordflow}{catch} (tf::TransformException ex)
71             \{
72                 ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
73                 ros::Duration(1.0).sleep();
74             \}
75         \}
76 
77         tf::Transform forwardDeltaTransform;
78         forwardDeltaTransform.setIdentity();
79         forwardDeltaTransform.setOrigin(tf::Vector3(-dist, 0, 0));
80 
81         tf::Transform targetPose = currentPose * forwardDeltaTransform;
82 
83         smacc::ClMoveBaseZ::Goal goal;
84         goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
85         goal.target\_pose.header.stamp = ros::Time::now();
86         tf::poseTFToMsg(targetPose, goal.target\_pose.pose);
87 
88         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"TARGET POSE FORWARD: "} << goal.target\_pose.pose);
89         ros::Duration(10).sleep();
90         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_a03c47908606d48e20b3b7e7b583b341d}{clearPath}();
91 
92         geometry\_msgs::PoseStamped currentPoseMsg;
93         currentPoseMsg.header.frame\_id = \textcolor{stringliteral}{"/odom"};
94         currentPoseMsg.header.stamp = ros::Time::now();
95         tf::poseTFToMsg(currentPose, currentPoseMsg.pose);
96         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac927dff2231f73384e54d114d56e61e3}{setStartPoint}(currentPoseMsg);
97         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac001a40d1107ef0d88aa7db03cafb08c}{setWorkingMode}(
      \hyperlink{namespaceodom__tracker_a4daf27fd157b1a481fdfd6f90de00b88a989d06a586bcf9520889228da7faa643}{odom\_tracker::WorkingMode::RECORD\_PATH\_FORWARD});
98 
99         \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ClMoveBaseZ_a712e0df77c9629930e03cbb4c539b485}{plannerSwitcher\_}->setBackwardPlanner();
100 
101         \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_}->\hyperlink{classsmacc_1_1SmaccActionClientBase_a58c67a87c5fb8ea1633573c58fe3eee1}{sendGoal}(goal);
102     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8_cgraph}
\end{center}
\end{figure}


\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 39 of file cb\+\_\+navigate\+\_\+backward.\+h.



References backward\+Distance, odom\+\_\+tracker\+::\+Odom\+Tracker\+::clear\+Path(), smacc\+::\+Smacc\+Client\+Behavior\+::current\+State, smacc\+::\+I\+Smacc\+Client\+::get\+Component(), smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Cl\+Move\+Base\+Z\+::planner\+Switcher\+\_\+, odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+T\+H\+\_\+\+F\+O\+R\+W\+A\+RD, smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), smacc\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Start\+Point(), and odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode().


\begin{DoxyCode}
40     \{
41         \textcolor{comment}{// straight motion distance}
42         \textcolor{keywordtype}{double} dist;
43 
44         \textcolor{keywordflow}{if} (!\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance})
45         \{
46             this->\hyperlink{classsmacc_1_1SmaccClientBehavior_af76fc9b877542ed5caf033f820c107d0}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"straight\_motion\_distance"}, dist, 3.5);
47         \}
48         \textcolor{keywordflow}{else}
49         \{
50             dist = *\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{backwardDistance};
51         \}
52 
53         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"Straight motion distance: "} << dist);
54 
55         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_});
56 
57         \textcolor{comment}{//this should work better with a coroutine and await}
58         ros::Rate rate(10.0);
59         tf::StampedTransform currentPose;
60 
61         \textcolor{keywordflow}{while} (ros::ok())
62         \{
63             \textcolor{keywordflow}{try}
64             \{
65                 \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a4ec9af0d5b94c5e0654a768c36bec85b}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
66                                          ros::Time(0), currentPose);
67 
68                 \textcolor{keywordflow}{break};
69             \}
70             \textcolor{keywordflow}{catch} (tf::TransformException ex)
71             \{
72                 ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
73                 ros::Duration(1.0).sleep();
74             \}
75         \}
76 
77         tf::Transform forwardDeltaTransform;
78         forwardDeltaTransform.setIdentity();
79         forwardDeltaTransform.setOrigin(tf::Vector3(-dist, 0, 0));
80 
81         tf::Transform targetPose = currentPose * forwardDeltaTransform;
82 
83         smacc::ClMoveBaseZ::Goal goal;
84         goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
85         goal.target\_pose.header.stamp = ros::Time::now();
86         tf::poseTFToMsg(targetPose, goal.target\_pose.pose);
87 
88         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"TARGET POSE FORWARD: "} << goal.target\_pose.pose);
89         ros::Duration(10).sleep();
90 
91         geometry\_msgs::PoseStamped currentPoseMsg;
92         currentPoseMsg.header.frame\_id = \textcolor{stringliteral}{"/odom"};
93         currentPoseMsg.header.stamp = ros::Time::now();
94         tf::poseTFToMsg(currentPose, currentPoseMsg.pose);
95 
96         \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_} = \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<
      \hyperlink{classodom__tracker_1_1OdomTracker}{odom\_tracker::OdomTracker}>();
97         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_a03c47908606d48e20b3b7e7b583b341d}{clearPath}();
98         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac927dff2231f73384e54d114d56e61e3}{setStartPoint}(currentPoseMsg);
99         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac001a40d1107ef0d88aa7db03cafb08c}{setWorkingMode}(
      \hyperlink{namespaceodom__tracker_a4daf27fd157b1a481fdfd6f90de00b88a989d06a586bcf9520889228da7faa643}{odom\_tracker::WorkingMode::RECORD\_PATH\_FORWARD});
100 
101         \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ClMoveBaseZ_a712e0df77c9629930e03cbb4c539b485}{plannerSwitcher\_}->setBackwardPlanner();
102 
103         \hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{moveBaseClient\_}->\hyperlink{classsmacc_1_1SmaccActionClientBase_a58c67a87c5fb8ea1633573c58fe3eee1}{sendGoal}(goal);
104     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1CbNavigateBackwards_a5d7816a541c5f7121c9909d5b43a81c8_cgraph}
\end{center}
\end{figure}


\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{on\+Exit() override}{onExit() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_ac0cd72d42bd00425362a97c9803ecce5}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 104 of file cb\+\_\+navigate\+\_\+backward.\+h.



References odom\+\_\+tracker\+::\+I\+D\+LE, odom\+Tracker\+\_\+, and odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode().


\begin{DoxyCode}
105     \{
106         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac001a40d1107ef0d88aa7db03cafb08c}{setWorkingMode}(
      \hyperlink{namespaceodom__tracker_a4daf27fd157b1a481fdfd6f90de00b88aa5daf7f2ebbba4975d61dab1c40188c7}{odom\_tracker::WorkingMode::IDLE});
107     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8_cgraph}
\end{center}
\end{figure}


\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{on\+Exit() override}{onExit() override}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::on\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_ac0cd72d42bd00425362a97c9803ecce5}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 106 of file cb\+\_\+navigate\+\_\+backward.\+h.



References odom\+\_\+tracker\+::\+I\+D\+LE, and odom\+\_\+tracker\+::\+Odom\+Tracker\+::set\+Working\+Mode().


\begin{DoxyCode}
107     \{
108         this->\hyperlink{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{odomTracker\_}->\hyperlink{classodom__tracker_1_1OdomTracker_ac001a40d1107ef0d88aa7db03cafb08c}{setWorkingMode}(
      \hyperlink{namespaceodom__tracker_a4daf27fd157b1a481fdfd6f90de00b88aa5daf7f2ebbba4975d61dab1c40188c7}{odom\_tracker::WorkingMode::IDLE});
109     \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsm__dance__bot_1_1CbNavigateBackwards_ac85cc397d597120fc8906b98d4241fe8_cgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!backward\+Distance@{backward\+Distance}}
\index{backward\+Distance@{backward\+Distance}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{backward\+Distance}{backwardDistance}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$ float $>$ sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::backward\+Distance}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ace20c1dfa7b8e84c754aedbd3dd00fdf}


Definition at line 15 of file cb\+\_\+navigate\+\_\+backward.\+h.



Referenced by Cb\+Navigate\+Backwards(), and on\+Entry().

\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!backward\+Speed@{backward\+Speed}}
\index{backward\+Speed@{backward\+Speed}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{backward\+Speed}{backwardSpeed}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$ float $>$ sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::backward\+Speed}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_a329c8dbb9c52b3b69393800872cc6e60}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_a329c8dbb9c52b3b69393800872cc6e60}


Definition at line 18 of file cb\+\_\+navigate\+\_\+backward.\+h.

\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!listener@{listener}}
\index{listener@{listener}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::listener}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_a4ec9af0d5b94c5e0654a768c36bec85b}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_a4ec9af0d5b94c5e0654a768c36bec85b}


Definition at line 20 of file cb\+\_\+navigate\+\_\+backward.\+h.

\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf smacc\+::\+Cl\+Move\+BaseZ} $\ast$ sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::move\+Base\+Client\+\_\+}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_ae4cd503172b4f5c7b0dba49aec08885e}


Definition at line 22 of file cb\+\_\+navigate\+\_\+backward.\+h.

\index{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}!odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}}
\index{odom\+Tracker\+\_\+@{odom\+Tracker\+\_\+}!sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards@{sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards}}
\subsubsection[{\texorpdfstring{odom\+Tracker\+\_\+}{odomTracker_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf odom\+\_\+tracker\+::\+Odom\+Tracker}$\ast$ sm\+\_\+dance\+\_\+bot\+::\+Cb\+Navigate\+Backwards\+::odom\+Tracker\+\_\+}\hypertarget{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}{}\label{classsm__dance__bot_1_1CbNavigateBackwards_a5361e3e58c18fc428c00bc50977ee715}


Definition at line 23 of file cb\+\_\+navigate\+\_\+backward.\+h.



Referenced by on\+Entry(), and on\+Exit().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{smacc__client__library_2move__base__z__client_2move__base__z__client__plugin_2include_2move__basef18dba82c6c9ec751438c97ecb125e5}{cb\+\_\+navigate\+\_\+backward.\+h}\end{DoxyCompactItemize}
